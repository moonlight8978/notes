---
title: AWS Simple Email Service
code: https://github.com/moonlight8978/simple-rails-app
---

#### Production mode

* Default running on **Sandbox** mode which only works on verified emails (both sending and delivering)
* Change to **Production** mode requires review from AWS Team

#### SMTP

* SMTP username = Access key id

* SMTP password != Secret access key

  Can be generated by secret access key using [the following Python script](https://docs.aws.amazon.com/ses/latest/DeveloperGuide/smtp-credentials.html#smtp-credentials-convert)

* Policy to grant smtp access

  ```yaml
  PolicyDocument:
    Version: 2012-10-17
    Statement:
      - Effect: Allow
        Action:
          - ses:SendRawEmail
        Resource: "*"
        Condition:
          StringEquals:
            ses:FromAddress: some.email@example.com
  ```

  * Sandbox mode requires permission on both TO and FROM address (on Resource)